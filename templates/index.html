{% extends "base.html" %}
{% block body %}
<section class="hero">
  <div class="container">
    <h1>Control Your Gaming Server</h1>
    <p>Install Sentra, log in with Discord, pick your server, and configure everything from a clean control panel.</p>

    <div class="hero-actions">
      {% if oauth_ready %}
        <a class="btn primary" href="{{ url_for('oauth_start') }}">Login with Discord</a>
      {% else %}
        <a class="btn primary" href="{{ url_for('login') }}">Login</a>
      {% endif %}

      {% if install_url %}
        <a class="btn" href="{{ install_url }}" target="_blank" rel="noreferrer">Add to Server</a>
      {% else %}
        <a class="btn" href="{{ url_for('login') }}">Add to Server</a>
      {% endif %}
    </div>

    <div class="hero-note">
      {% if not oauth_ready %}
        OAuth not configured yet. Fix env vars and stop blaming the universe.
        Check <span class="kbd">/envcheck</span>.
      {% else %}
        OAuth ready. You can log in.
      {% endif %}
    </div>

    <div class="feature-grid">
      <div class="feature">
        <h3>Server Config</h3>
        <p>Prefix, welcome message, log channel, anti-raid toggles. Saved per server.</p>
      </div>
      <div class="feature">
        <h3>Audit Trail</h3>
        <p>Every action logs an event. Good for debugging and “who touched this?” moments.</p>
      </div>
      <div class="feature">
        <h3>Dyno-style Flow</h3>
        <p>Add bot → Login → Select guild → Configure. The correct way.</p>
      </div>
    </div>
  </div>
</section>
{% endblock %}